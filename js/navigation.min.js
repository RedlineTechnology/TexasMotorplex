jQuery(document).ready(function(e){function t(){e("#main-navigation #primary-menu").append(e("#overflow > li"));var t=e(".more"),n=e("#main-navigation #primary-menu > li"),o=e("#more-container ul > li"),a=e("#main-navigation").width(),i=0;for(n.each(function(){i+=e(this).width()}),o.each(function(){i+=e(this).width()}),(i+=150)>a?t.show():t.hide();i>a;)i-=n.last().width(),n.last().prependTo("#overflow"),n.splice(-1,1)}e(".news").addClass("menu-item-has-children").append(e(".recentposts .sub-menu")),e("#lefttray-toggle, #lefttray-close").click(function(t){t.preventDefault(),e("#left-tray").toggleClass("open"),e("body").toggleClass("noscroll")}),e(document).on("click",function(t){e(t.target).closest("#mobilenav").length||e(t.target).closest("#lefttray-toggle").length||e("#left-tray").hasClass("open")&&(e("#left-tray").toggleClass("open"),e("body").toggleClass("noscroll"))}),e("#mobilenav .menu-item-has-children > a").click(function(t){t.preventDefault(),e("#mobilenav .menu-item-has-children").parent().find(".open").not(e(this).parent()).not(e(this).parent().find(".sub-menu")).toggleClass("open"),e(this).parent().toggleClass("open"),e(this).parent().find(".sub-menu").toggleClass("open")}),e("#nav-desktop li, #nav-desktop .sub-menu").hover(function(){e(".video-container .filter").toggleClass("visible")}),e(window).scroll(function(){e(this).scrollTop()>1?(e("#nav-desktop").addClass("sticky"),e("#twitter-container").addClass("visible")):(e("#nav-desktop").removeClass("sticky"),e("#twitter-container").removeClass("visible"))}),window.onresize=t,t(),e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=e(this.hash);(n=n.length?n:e("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),e("html, body").animate({scrollTop:n.offset().top},1e3,function(){var t=e(n);if(t.focus(),t.is(":focus"))return!1;t.attr("tabindex","-1"),t.focus()}))}})});