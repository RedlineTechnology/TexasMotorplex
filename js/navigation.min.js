jQuery(document).ready(function(e){e(".news").addClass("menu-item-has-children").append(e(".recentposts .sub-menu")),e("#lefttray-toggle, #lefttray-close").click(function(t){t.preventDefault(),e("#left-tray").toggleClass("open"),e("body").toggleClass("noscroll")}),e(document).on("click",function(t){e(t.target).closest("#mobilenav").length||e(t.target).closest("#lefttray-toggle").length||e("#left-tray").hasClass("open")&&(e("#left-tray").toggleClass("open"),e("body").toggleClass("noscroll"))}),e("#mobilenav .menu-item-has-children > a").click(function(t){t.preventDefault(),e("#mobilenav .menu-item-has-children").parent().find(".open").not(e(this).parent()).not(e(this).parent().find(".sub-menu")).toggleClass("open"),e(this).parent().toggleClass("open"),e(this).parent().find(".sub-menu").toggleClass("open")}),e("#nav-desktop li, #nav-desktop .sub-menu").hover(function(){e(".filter").toggleClass("visible")}),e(window).scroll(function(){e(this).scrollTop()>1?(e("#nav-desktop").addClass("sticky"),e("#twitter-container").addClass("visible")):(e("#nav-desktop").removeClass("sticky"),e("#twitter-container").removeClass("visible"))});var t=e(".accordion-tab-content .section-content-primary");function s(){e("#main-navigation #primary-menu").append(e("#overflow > li"));var t=e(".more"),s=e("#main-navigation #primary-menu > li"),o=e("#more-container ul > li"),n=e("#main-navigation").width(),l=0;for(s.each(function(){l+=e(this).width()}),o.each(function(){l+=e(this).width()}),(l+=150)>n?t.show():t.hide();l>n;)l-=s.last().width(),s.last().prependTo("#overflow"),s.splice(-1,1)}t.each(function(){e(this).prop("scrollHeight")>e(this).closest("section").innerHeight()&&e(this).closest("section").addClass("scroll-helper-show")}),t.each(function(){e(this).scroll(function(){e(this).scrollTop()>1?e(this).closest("section").removeClass("scroll-helper-show"):e(this).closest("section").addClass("scroll-helper-show")}),e(this).closest("section").scroll(function(){e(this).scrollTop()>1?e(this).removeClass("scroll-helper-show"):e(this).addClass("scroll-helper-show")})}),window.onresize=s,s(),e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=e(this.hash);(s=s.length?s:e("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),e("html, body").animate({scrollTop:s.offset().top},1e3,function(){var t=e(s);if(t.focus(),t.is(":focus"))return!1;t.attr("tabindex","-1"),t.focus()}))}})});